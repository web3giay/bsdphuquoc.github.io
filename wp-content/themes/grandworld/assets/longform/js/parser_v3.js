window.checkScrollable=true;var dir=0,timer=null,_player=null,autoplayFirstVideo=false;
VideoParserNew=function(){return{playerID:"fpt_player",siteId:0,parse:function(){if(typeof VideoParserNew.autoPlay=="undefined")VideoParserNew.autoPlay=0;if(typeof jQuery!="undefined"){var articleId=$("meta[name=tt_article_id]").attr("content"),articleIdUri="";if(typeof articleId!="undefined"&&parseInt(articleId)>0)var articleIdUri="&articleId="+parseInt(articleId);var posX=($(window).width()-$("#container").width())/2;$('div[data-component-type="video"]').each(function(position,index){try{var videoIdComponent=
this.getAttribute("data-component-value");var videoIdType=this.getAttribute("data-component-typevideo")?this.getAttribute("data-component-typevideo"):1;var $this=$(this);widthDefault=480;heightDefault=270;var current_url=window.location.href;var pid=videoIdComponent+"_"+position;if(VideoParserNew.domain.indexOf("http://qc.")!=-1)var url_parser="http://qc.v2.video.vnexpress.net";else var url_parser="https://video.vnexpress.net";if(typeof isApp!="undefined"&&isApp===1)var linkVideo=url_parser+
"/parser.html?view=app&id="+videoIdComponent+"&amp;t="+videoIdType+"&amp;ft=video"+"&amp;si="+VideoParserNew.siteId+"&amp;ap=0&amp;ishome=0&player_id="+pid+articleIdUri;else if(typeof current_url!="undefined"&&current_url.indexOf("vnexpress.net/infographic/")>-1)var linkVideo=url_parser+"/parser.html?res=720&id="+videoIdComponent+"&amp;t="+videoIdType+"&amp;ft=video"+"&amp;si="+VideoParserNew.siteId+"&amp;ap=0&amp;ishome=0&player_id="+pid+articleIdUri;else var linkVideo=url_parser+"/parser.html?id="+
videoIdComponent+"&amp;t="+videoIdType+"&amp;ft=video"+"&amp;si="+VideoParserNew.siteId+"&amp;ap=0&amp;ishome=0&player_id="+pid+articleIdUri;var object='<div class="box_embed_video_parent"><div class="box_embed_video"><div class="bg_overlay_small_unpin"></div><div class="bg_overlay_small" style="left:'+posX+'px"></div><div class="embed-container"><iframe data-status="stop" data-view="outview" class="parser_player_vnexpress" id="player_'+pid+'" width="'+widthDefault+'" height="'+heightDefault+'" src="'+
encodeURI(linkVideo)+'" frameborder="0" allowfullscreen></iframe><div class="parser_title"></div></div></div></div>';$this.replaceWith(object)}catch(e){}});VideoParserNew.autoplay();var iScrollPos=0;$(window).scroll(function(){if(timer!==null)clearTimeout(timer);timer=setTimeout(function(){VideoParserNew.playOneVideo()},250);var iCurScrollPos=$(this).scrollTop();if(iCurScrollPos>iScrollPos)dir=0;else dir=1;iScrollPos=iCurScrollPos})}},autoplay:function(){var _parent=this;if(device_env==4&&typeof parser_autoplay!=
"undefined"&&parser_autoplay==1)setTimeout(function(){$(".parser_player_vnexpress").each(function(){var _self=$(this),iframeId=_self.attr("id"),iframeWin=document.getElementById(iframeId).contentWindow;_self.unbind("inview");_self.bind("inview",function(event,visible,t){if(visible==true){_self.attr("data-view","inview");if(iframeId.indexOf("_0")>0&&!autoplayFirstVideo){_self&&_self.attr("data-status")!="play"&&(_self.attr("data-status","play"),iframeWin.postMessage(["playFirst"],"*"));autoplayFirstVideo=
true}}else{_self.attr("data-view","outview");if(_self.attr("data-status")=="play")_parent.videoScroll(1,_self)}})})},1E3)},getScrollbarWidth:function(){var outer=document.createElement("div");outer.style.visibility="hidden";outer.style.width="100px";outer.style.msOverflowStyle="scrollbar";document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%";outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;
outer.parentNode.removeChild(outer);return widthNoScroll-widthWithScroll},showAgain:"",videoScroll:function(pos,element){return true;if(window.location.href.indexOf("/infographics/")>-1)return false;var _self=this;if(window.checkScrollable==true){var _parent=this;embed_container=element.parent(".embed-container"),box_embed_video=element.parents(".box_embed_video"),box_embed_video_parent=element.parents(".box_embed_video_parent"),bg_overlay_small=box_embed_video.find(".bg_overlay_small"),page=$("#page"),
widthBlock=$("#container").width(),posX=($(window).width()-widthBlock)/2;if(parseInt(pos)>0){if(pos==2)posX=posX-_self.getScrollbarWidth()/2;box_embed_video.css("background","#EEEEEE");page.css("z-index",999999);box_embed_video_parent.addClass("embed-fixed-on");embed_container.addClass("fadeout").css({"left":widthBlock+posX-300});bg_overlay_small.css({"left":widthBlock+posX-300});setTimeout(function(){embed_container.addClass("fadein")},200);box_embed_video.unbind("inview");box_embed_video.bind("inview",
function(event,visible,t){if(visible==true)_parent.videoScroll(0,element)});$(window).unbind("scroll.rollbackParser");$(window).bind("scroll.rollbackParser",function(){if($(this).scrollTop()<=$("#container").offset().top){_parent.pauseOneVideo(element.attr("id"));_parent.videoScroll(0,element)}})}else{page.css("z-index",1);box_embed_video_parent.removeClass("embed-fixed-on");embed_container.css({"left":"auto"}).removeClass("fadeout").removeClass("fadein");bg_overlay_small.css({"left":posX});box_embed_video.unbind("inview");
$(window).unbind("scroll.rollbackParser")}}return true},pauseAnotherVideo:function(exclude){},playOneVideo:function(){var offsetTop=0;var offsetDown=$(document).height();var index=-1;var isPlayingVideoId=$("iframe[data-view=inview]");if(typeof isPlayingVideoId!="undefined"&&isPlayingVideoId.length>0)for(var i=0;i<isPlayingVideoId.length;i++)if(dir==0){if($(isPlayingVideoId[i]).offset().top>offsetTop){offsetTop=$(isPlayingVideoId[i]).offset().top;index=i}}else if(dir==1)if($(isPlayingVideoId[i]).offset().top<
offsetDown){offsetDown=$(isPlayingVideoId[i]).offset().top;index=i}},pauseOneVideo:function(id){$("#"+id).attr("data-status","stop");var selector=document.getElementById(id);if(selector!==null){var iframeWin=selector.contentWindow;iframeWin.postMessage(["pause"],"*")}},playOneVideoId:function(id){$("#"+id).attr("data-status","play");var selector=document.getElementById(id);if(selector!==null){var iframeWin=selector.contentWindow;iframeWin.postMessage(["play"],"*")}}}}();
var VoteParser=function(){return{VOTE_PARSER_URL:"",parse:function(){if(typeof jQuery!="undefined")if($('div[data-component-type="vote"]').length>0)VoteParser.addJsScript(VoteParser.VOTE_PARSER_URL+"/interactions/vote.widget.js")},addJsScript:function(jsFile){var g=document.createElement("script");g.setAttribute("src",jsFile);g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");document.getElementsByTagName("head")[0].appendChild(g)}}}();
var RatingParser=function(){return{RATING_PARSER_URL:"",parse:function(){if(typeof jQuery!="undefined")if($('div[data-component-type="rating"]').length>0)RatingParser.addJsScript(RatingParser.RATING_PARSER_URL+"/interactions/rating.widget.js")},addJsScript:function(jsFile){var g=document.createElement("script");g.setAttribute("src",jsFile);g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");document.getElementsByTagName("head")[0].appendChild(g)}}}();
var ChartParser=function(){return{CHART_PARSER_URL:"",parse:function(){if(typeof jQuery!="undefined"){var getScript=function(url,success){var script=document.createElement("script");script.src=url;var head=document.getElementsByTagName("head")[0],done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();script.onload=script.onreadystatechange=null;head.removeChild(script)}};head.appendChild(script)};
if($('div[data-component-type="chart"]').length>0){ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/interactions/chart.widget.js");getScript(ChartParser.CHART_PARSER_URL+"/highchart/highstock.js",function(){ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/highcharts-more.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/highcharts-3d.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/exporting.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+
"/highchart/data.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/funnel.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/solid-gauge.js");ChartParser.addJsScript(ChartParser.CHART_PARSER_URL+"/highchart/standalone-framework.js")})}}},addJsScript:function(jsFile){var g=document.createElement("script");g.setAttribute("src",jsFile);g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");document.getElementsByTagName("head")[0].appendChild(g)}}}();
var LikeParser=function(){return{URL:"",parse:function(){if(typeof jQuery!="undefined")if($('div[data-component-type="like"]').length>0||$('div[data-component-type="likematch"]').length>0)LikeParser.addJsScript(LikeParser.URL+"/interactions/like.widget.js")},addJsScript:function(jsFile){var g=document.createElement("script");g.setAttribute("src",jsFile);g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");document.getElementsByTagName("head")[0].appendChild(g)}}}();
var AudioParser=function(){return{playerID:"fpt_player",parse:function(){if(typeof jQuery!="undefined")$('div[data-component-type="audio"]').each(function(){try{var audioLinkComponent=this.getAttribute("data-component-value");if(audioLinkComponent){var title=this.getAttribute("data-title");if(!title)title="";var linkAudio=AudioParser.domain+"/parser_v3.php?al="+audioLinkComponent+"&amp;ft=audio"+"&amp;title="+title;var object='<div class="embed-container audio"><iframe width="480" height="69" src="'+
encodeURI(linkAudio)+'" frameborder="0" allowfullscreen></iframe></div>';$(this).html(object).show().removeAttr("data-component-type").removeAttr("data-component-value").removeAttr("data-component")}}catch(e){}})}}}();
var ContentParser=function(){return{parse:function(){if(typeof jQuery!="undefined"){var $arrIframe=$('.fck_detail iframe[class!="ad_frame_protection"]');$arrIframe.each(function(){var w=$(this).width();var h=$(this).height();var percent=h/w*100;if($(this).parents(".embed-container").size()==0)if(typeof longform_static=="undefined")$(this).wrap('<div class="embed-container" style="padding-bottom: '+percent+'%;"></div>')});var $arrTable=$(".embed-container");$arrTable.each(function(){if($(this).parents("table").size()>
0)$(this).parents("table").removeAttr("width").attr("style","width: 100%")});var fptDom=$(".fptplay_embed");var fptDomSrc=fptDom.attr("src");if(typeof fptDomSrc!="undefined"&&fptDomSrc.indexOf("#width=")<0){var playerWidth=$("#left_calculator").width();var playerHeight=Math.ceil(playerWidth*3/5);var playerUrl=fptDom.attr("src")+"#width="+playerWidth+"&height="+playerHeight;var playerPercent=playerHeight/playerWidth*100;fptDom.parent().attr("style","padding-bottom:"+playerPercent+"%");fptDom.attr({src:playerUrl,
width:playerWidth,height:playerHeight})}}}}}();
var AlbumParser=function(){return{parse:function(){if(typeof jQuery!="undefined"){var strArticleId="";var owlConfig={autoPlay:4E3,items:3,itemsDesktop:[1199,3],itemsTablet:[600,2],itemsDesktopSmall:[900,3],itemsMobile:[479,2],pagination:false};var slideConfig={container:"",cssUrl:AlbumParser.URL+"/utils/slideshow/css"};$('div[data-component-type="album"]').each(function(){var articleId=parseInt($(this).attr("data-component-value"));if(articleId>0){strArticleId+=","+articleId;$(this).removeAttr("data-component-type")}});
if(strArticleId.length>0||$(".list_slide .owl-carousel").size()>0)$.getScript(AlbumParser.URL+"/utils/owl.carousel.min.js").done(function(script,textStatus){if(strArticleId.length>0)$.getJSON(AlbumParser.domain+"/parser_v3.php?id="+strArticleId+"&ft=album&si="+AlbumParser.siteId+"&callback=?",function(response){if(!response.error)$.each(response.data,function(key,value){var container=$("#album-"+key).parents(".embed-container");container.css({"height":"auto","padding-bottom":"0"}).html(value);var owl=
container.find(".owl-carousel");var next=container.find(".next_slider");var prev=container.find(".prev_slider");owl.owlCarousel(owlConfig);next.click(function(){owl.trigger("owl.next")});prev.click(function(){owl.trigger("owl.prev")});next.html('<i class="ic ic-caret-right"></i>');prev.html('<i class="ic ic-caret-left"></i>');if(device_env!=1){next.show();prev.show();slideConfig.container=container.find(".list_slide");AlbumFullscreen.init(slideConfig)}else{next.hide();prev.hide()}})});$(".list_slide .owl-carousel").each(function(){if(!$(this).hasClass("owl-theme")){var self=
$(this);var next=$(this).prevAll(".next_slider");var prev=$(this).prevAll(".prev_slider");$(this).owlCarousel(owlConfig);next.click(function(){self.trigger("owl.next")});prev.click(function(){self.trigger("owl.prev")});next.html('<i class="ic ic-caret-right"></i>');prev.html('<i class="ic ic-caret-left"></i>');if(device_env!=1){next.show();prev.show();slideConfig.container=self.parent();AlbumFullscreen.init(slideConfig)}else{next.hide();prev.hide();$(this).find("a").unbind("click").click(function(){AlbumParser.buildSlideMobile(self);
return false})}}})})}},buildSlideMobile:function(obj){var beginHTML='<div id="main"><div class="wrap"><section id="exemple">';var endHTML='<div class="clear">&nbsp;</div></section></div></div>';var bodyHTML="";var total=$("img",$(obj)).size();$("img",$(obj)).each(function(){var href=$(this).parent().attr("href");href=href.replace(/(.[a-zA-Z]+)$/,"_m_460x0$1");var caption=caption_full=$(this).attr("data-component-caption");var show=0;if(caption_full!=""){var wordCount=caption_full.split(" ").length;
if(wordCount>45){show=1;caption=AlbumParser.cropWord(caption_full,20)}else show=0}bodyHTML+='<div class="box">'+'<a class="swipebox" href="'+href+'" rel="'+caption+'" relfull="'+caption_full+'" show="'+show+'" total="'+total+'"></a>'+"</div>"});bodyHTML=beginHTML+bodyHTML+endHTML;$("#slideshow_popup").html(bodyHTML).show();$(".swipebox").swipebox()},cropWord:function(str,numWord){var wordCount=str.split(" ");var tmp="";if(wordCount.length<=numWord)return str;for(var i=0;i<numWord;i++)tmp+=wordCount[i]+
(i<numWord-1?" ":"...");return tmp}}}();var QuizParser=function(){return{QUIZ_PARSER_URL:"",parse:function(){if(typeof jQuery!="undefined")if($('div[data-component-type="quiz"]').length>0)QuizParser.addJsScript(QuizParser.QUIZ_PARSER_URL+"/interactions/quiz.widget.js")},addJsScript:function(jsFile){var g=document.createElement("script");g.setAttribute("src",jsFile);g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");document.getElementsByTagName("head")[0].appendChild(g)}}}();
var CrosswordParser=function(){return{isChanged:false,parse:function(){var _self=this;var eventMethod=window.addEventListener?"addEventListener":"attachEvent";var eventer=window[eventMethod];var messageEvent=eventMethod=="attachEvent"?"onmessage":"message";eventer(messageEvent,function(e){if(typeof e!="undefined"&&e.origin.indexOf("vnexpress.net")>-1&&_self.isChanged==false)if(e.data[0]=="changeH"&&e.data[1]>0){_self.isChanged=true;$(".crossword").css("height",e.data[1])}},false);return true}}}();
var Parser=function(){return{URL:"",SITE_URL:"",FLASH_URL:"",SITE_ID:0,AUTO_PLAY:0,parseAll:function(){if(typeof CrosswordParser!="undefined")CrosswordParser.parse();if(typeof ContentParser!="undefined")ContentParser.parse();if(typeof VideoParserNew!="undefined"){VideoParserNew.domain=this.SITE_URL;VideoParserNew.siteId=this.SITE_ID;VideoParserNew.autoPlay=this.AUTO_PLAY;VideoParserNew.parse()}if(typeof AudioParser!="undefined"){AudioParser.domain=this.SITE_URL;AudioParser.parse()}if(typeof VoteParser!=
"undefined"){VoteParser.VOTE_PARSER_URL=this.URL;VoteParser.parse()}if(typeof RatingParser!="undefined"){RatingParser.RATING_PARSER_URL=this.URL;RatingParser.parse()}if(typeof ChartParser!="undefined"){ChartParser.CHART_PARSER_URL=this.URL;ChartParser.parse()}if(typeof LikeParser!="undefined"){LikeParser.URL=this.URL;LikeParser.parse()}if(typeof AlbumParser!="undefined"){AlbumParser.domain=this.SITE_URL;AlbumParser.siteId=this.SITE_ID;AlbumParser.URL=this.URL;AlbumParser.parse()}if(typeof QuizParser!=
"undefined"){QuizParser.QUIZ_PARSER_URL=this.URL;QuizParser.parse()}},parseVideo:function(){if(typeof VideoParserNew!="undefined"){VideoParserNew.domain=this.SITE_URL;VideoParserNew.siteId=this.SITE_ID;VideoParserNew.autoPlay=this.AUTO_PLAY;VideoParserNew.parse()}}}}();
function parserOldVideo(){if(!$(".vne_video").length)return false;var arrVideo=[];$.each($(".vne_video"),function(index,value){arrVideo.push($.trim($(this).text()))});if(arrVideo.length)$.get("http://vnexpress.net/video/parseoldvideo",{arrVideo:arrVideo}).done(function(data){data=$.parseJSON(data);$.each($(".vne_video"),function(index,value){var id=$.trim($(this).text());if(typeof data[id]!="undefined"&&typeof id!="undefined"){$html='<div style="display:none;" data-component-typevideo="1" data-component-value="'+
data[id]+'" data-component-type="video" data-component="true" id="video-'+data[id]+'"></div>';$(this).replaceWith($html)}});if(typeof Parser!="undefined")Parser.parseAll()},"json")}parserOldVideo();
handleSizingResponse=function(e){if(e.origin.indexOf("vnexpress.net")>-1)switch(e.data[0]){case "showpopupidmflash":showidmflash();break;case "enableCheckScroll":window.checkScrollable=true;var elem="#player_"+e.data[1];if($.extend(verge).inViewport($(elem).parents(".box_embed_video"),$(elem).height())||$.extend(verge).inViewport($(elem).parents(".box_embed_video"),0-$(elem).height()))VideoParserNew.videoScroll(0,$(elem));$(elem).attr("data-status","play");break;case "disableCheckScroll":VideoParserNew.videoScroll(2,
$("#player_"+e.data[1]));$("#player_"+e.data[1]).attr("data-status","stop");window.checkScrollable=false;break;case "play":$(".parser_player_vnexpress").each(function(){var _self=$(this),iframeId=_self.attr("id");if("player_"+e.data[1]!=iframeId){VideoParserNew.pauseOneVideo(iframeId);VideoParserNew.videoScroll(0,_self)}else{_self.attr("data-status","play");_self.parent(".embed-container").find(".parser_title").text(e.data[2])}});break;case "pause":$(".parser_player_vnexpress").each(function(){if("player_"+
e.data[1]==$(this).attr("id"))VideoParserNew.pauseOneVideo($(this).attr("id"))});break;case "h5p":console.log(e.data[1]);var $el_parent=$("#player_"+e.data[1]);var h_p=$el_parent.width()*9/16+35;if(h_p>35){$el_parent.parents(".embed-container").css({"height":h_p+"px","padding-bottom":"0px"});$el_parent.parents(".box_embed_video").css({"height":h_p+"px","padding-bottom":"0px"});$(window).resize(function(){var $el_parent=$("#player_"+e.data[1]);var h_p=$el_parent.width()*9/16+35;if(h_p>35){$el_parent.parents(".embed-container").css({"height":h_p+
"px","padding-bottom":"0px"});$el_parent.parents(".box_embed_video").css({"height":h_p+"px","padding-bottom":"0px"})}})}break}};window.addEventListener?window.addEventListener("message",handleSizingResponse,false):window.attachEvent("message",handleSizingResponse,false);
function showidmflash(){if($("#show_popup_idm").html().length>10){$("#show_popup_idm").show();return true}var html='<div class="opacity" onclick="closeidmflash()"></div><div id="block_show_popup"class="block-popup" style="z-index:9999"><div class="title"><div class="left"><a href="#"><img src="'+img_url_vne+'/prevent_idm/logo_vne.jpg"align="absmiddle"align="absmiddle"/></a></div><div class="right huongdan"><p>H\u01b0\u1edbng d\u1eabn x\u1eed l\u00fd khi kh\u00f4ng xem \u0111\u01b0\u1ee3c Video do Internet Download Manager (IDM)</p><div onclick="closeidmflash()" class="close-lb"></div></div></div><div class="content"><div class="scroll"><div id="content_1"style=" height:376px;"><div class="left"><div class="w50 left"><span class="icon_number">1</span></div><div class="w690 left"><p>M\u1edf <strong>Internet Download Manager (IDM)</strong> / Ch\u1ecdn <strong>Options</strong></p><p><img src="'+
img_url_vne+'/prevent_idm/step_1.jpg"align="absmiddle"/></p></div></div><div class="left"><div class="w50 left"><span class="icon_number">2</span></div><div class="w690 left"><p>Ch\u1ecdn <strong>File types</strong> / B\u1ea5m <strong>Edit list</strong> ...</p><p><img src="'+img_url_vne+'/prevent_idm/step_2.jpg"align="absmiddle"/></p></div></div><div class="left"><div class="w50 left"><span class="icon_number">3</span></div><div class="w690 left"><p>Ch\u1ecdn <strong>Add</strong> l\u1ea7n l\u01b0\u1ee3t 2 n\u1ed9i dung b\u00ean d\u01b0\u1edbi:</p><p>&nbsp;&nbsp;<strong>http://*.eclick.vn/*<p>&nbsp;&nbsp;<strong>http://*.vnexpress.net/*<p><img src="'+
img_url_vne+'/prevent_idm/step_3.jpg"align="absmiddle"/></p><p><img src="'+img_url_vne+'/prevent_idm/step_4.jpg"align="absmiddle"/></p></div></div></div></div></div></div>';$("#show_popup_idm").hide();$("#show_popup_idm").html(html);$("#show_popup_idm").prepend('<link rel="stylesheet" href="'+img_url_vne+'/prevent_idm/style.css" type="text/css" />');$("#show_popup_idm").css("z-index","999999").fadeIn(500);$("#content_1").css("overflow","scroll")}
function closeidmflash(){$("#show_popup_idm").fadeOut(500)}function playerTrackingGA(catname,actionname,actionlabel){_gaq.push(["_trackEvent",catname,actionname,actionlabel])}$(".icon_commend").bind("click",function(){var url=$(this).attr("data-href");if(typeof url!="undefined"&&url)window.location.href=url});
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():a[b]=c()}(this,"verge",function(){function a(){return{width:k(),height:l()}}function b(a,b){var c={};return b=+b||0,c.width=(c.right=a.right+b)-(c.left=a.left-b),c.height=(c.bottom=a.bottom+b)-(c.top=a.top-b),c}function c(a,c){return a=a&&!a.nodeType?a[0]:a,a&&1===a.nodeType?b(a.getBoundingClientRect(),c):!1}function d(b){b=null==b?a():1===b.nodeType?c(b):b;var d=b.height,e=b.width;return d="function"==typeof d?d.call(b):
d,e="function"==typeof e?e.call(b):e,e/d}var e={},f="undefined"!=typeof window&&window,g="undefined"!=typeof document&&document,h=g&&g.documentElement,i=f.matchMedia||f.msMatchMedia,j=i?function(a){return!!i.call(f,a).matches}:function(){return!1},k=e.viewportW=function(){var a=h.clientWidth,b=f.innerWidth;return b>a?b:a},l=e.viewportH=function(){var a=h.clientHeight,b=f.innerHeight;return b>a?b:a};return e.mq=j,e.matchMedia=i?function(){return i.apply(f,arguments)}:function(){return{}},e.viewport=
a,e.scrollX=function(){return f.pageXOffset||h.scrollLeft},e.scrollY=function(){return f.pageYOffset||h.scrollTop},e.rectangle=c,e.aspect=d,e.inX=function(a,b){var d=c(a,b);return!!d&&d.right>=0&&d.left<=k()},e.inY=function(a,b){var d=c(a,b);return!!d&&d.bottom>=0&&d.top<=l()},e.inViewport=function(a,b){var d=c(a,b);return!!d&&d.bottom>=0&&d.right>=0&&d.top<=l()&&d.left<=k()},e});